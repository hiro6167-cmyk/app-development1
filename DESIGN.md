# PositiveVoice - 設計ドキュメント

## 1. アプリ概要

### コンセプト
ポジティブな声を集める投稿プラットフォーム。ユーザーが日常の良かった出来事や、理想の社会像を共有する場を提供する。

### アプリ名案
- PositiveVoice
- GoodVibes
- BrightPost
- HopeShare

### ターゲットユーザー
- 中高生（13-18歳）
- 大学生（18-22歳）
- ポジティブな交流を求める若年層

### プラットフォーム
- iOS（Swift）
- 将来的にAndroid対応予定

---

## 2. 投稿の種類

### 2.1 今日のいいこと
- 日常で起きた良かった出来事を投稿
- 例：「テストでいい点取れた」「友達と楽しい時間を過ごせた」

### 2.2 こうなって欲しい世の中
- 社会への願望・理想を投稿
- 例：「みんなが優しくできる世界」「環境問題がなくなる未来」

---

## 3. MVP機能（初期リリース）

### 3.1 ユーザー管理
| 機能 | 詳細 |
|------|------|
| 登録方法 | メールアドレス / Apple ID / Googleアカウント |
| プロフィール | ニックネーム（必須）、自己紹介（任意） |
| 認証 | AWS Cognito |

### 3.2 投稿機能
| 機能 | 詳細 |
|------|------|
| 投稿形式 | テキストのみ（将来的に画像対応） |
| 文字数制限 | 300文字程度 |
| 投稿タイプ | 「今日のいいこと」/「こうなって欲しい世の中」を選択 |
| カテゴリ | AIが自動分類 |

### 3.3 閲覧機能
| 機能 | 詳細 |
|------|------|
| タブ分け | 2種類の投稿を別タブで表示 |
| 表示順 | 新着順 / おすすめ順（切り替え可能） |
| 類似投稿 | AIで意味的に近い投稿をグルーピング表示 |

### 3.4 検索機能
| 機能 | 詳細 |
|------|------|
| カテゴリ検索 | AIが分類したカテゴリから検索 |
| キーワード検索 | フリーワードで投稿を検索 |

### 3.5 モデレーション
| 機能 | 詳細 |
|------|------|
| 自動検出 | AIで不適切投稿を検出 |
| 対応 | 自動で非表示化 |

### 3.6 特徴
- **いいね機能なし** - 承認欲求を煽らない設計
- **無料・広告なし**（初期リリース時）

---

## 4. 技術スタック

### 4.1 フロントエンド（iOS）
```
- 言語: Swift 5.x
- UI: SwiftUI
- アーキテクチャ: MVVM
- 最小対応バージョン: iOS 15.0
```

### 4.2 バックエンド（AWS）
```
- AWS Amplify - 全体フレームワーク
- Amazon Cognito - ユーザー認証
- Amazon DynamoDB - データベース
- AWS Lambda - サーバーレス処理
- Amazon API Gateway - REST API
- Amazon S3 - 画像ストレージ（将来用）
```

### 4.3 AI/機械学習
```
- Amazon Comprehend - テキスト分類・感情分析
- Amazon Bedrock - 類似投稿の意味的マッチング
- カスタムモデル - 不適切投稿の検出
```

---

## 5. データモデル

### 5.1 User（ユーザー）
```json
{
  "userId": "string (UUID)",
  "nickname": "string",
  "email": "string",
  "authProvider": "email | apple | google",
  "bio": "string (optional)",
  "createdAt": "timestamp",
  "updatedAt": "timestamp"
}
```

### 5.2 Post（投稿）
```json
{
  "postId": "string (UUID)",
  "userId": "string (UUID)",
  "type": "good_thing | ideal_world",
  "content": "string",
  "category": "string (AI分類)",
  "embedding": "vector (類似検索用)",
  "isVisible": "boolean",
  "createdAt": "timestamp"
}
```

### 5.3 Category（カテゴリ）
```json
{
  "categoryId": "string",
  "name": "string",
  "type": "good_thing | ideal_world",
  "postCount": "number"
}
```

---

## 6. 画面構成

### 6.1 画面一覧
```
1. スプラッシュ画面
2. オンボーディング画面（初回のみ）
3. ログイン/登録画面
   - メール登録
   - Apple ID連携
   - Google連携
4. ホーム画面（タブ切り替え）
   - 今日のいいこと
   - こうなって欲しい世の中
5. 投稿作成画面
6. 投稿詳細画面（類似投稿表示）
7. 検索画面
   - カテゴリ一覧
   - 検索結果
8. プロフィール画面
9. 設定画面
```

### 6.2 画面遷移図
```
[スプラッシュ]
    ↓
[オンボーディング] → [ログイン/登録]
                          ↓
                    [ホーム画面]
                    /    |    \
            [投稿作成] [検索] [プロフィール]
                          ↓
                    [投稿詳細]
                    (類似投稿表示)
```

---

## 7. AIカテゴリ分類

### 7.1 「今日のいいこと」カテゴリ例
- 学校・勉強
- 友人・人間関係
- 家族
- 趣味・娯楽
- 達成・成長
- 自然・癒し
- 食事・グルメ
- その他

### 7.2 「こうなって欲しい世の中」カテゴリ例
- 環境・自然
- 平和・安全
- 教育
- 人権・平等
- テクノロジー
- 健康・医療
- コミュニティ
- その他

---

## 8. 将来の拡張計画

### Phase 2
- [ ] 画像添付機能
- [ ] 通報機能（ユーザーからの報告）
- [ ] プッシュ通知

### Phase 3
- [ ] 有料プラン（広告なし）導入
- [ ] 無料プラン（広告あり）導入
- [ ] 詳細な統計・分析機能

### Phase 4
- [ ] Android版リリース
- [ ] 企業向けペルソナデータ提供サービス
- [ ] API公開

---

## 9. マネタイズ戦略

### 初期（MVP）
- 完全無料・広告なし
- ユーザー獲得に集中

### 中期
- フリーミアムモデル導入
  - 無料版：広告表示
  - 有料版：広告なし（月額課金）

### 長期
- 企業向けB2Bサービス
  - 匿名化されたペルソナデータの提供
  - トレンド分析レポート
  - 若年層のインサイト提供

---

## 10. プライバシー・セキュリティ

### 10.1 データ保護
- 全通信をHTTPS暗号化
- 個人情報は最小限のみ収集
- AWS KMSによるデータ暗号化

### 10.2 利用規約
- データ活用について明記
- 将来のデータ販売について同意取得
- GDPR/個人情報保護法準拠

### 10.3 年齢制限
- 13歳以上を対象
- 保護者同意の仕組み（必要に応じて）

---

## 11. 開発スケジュール（目安）

### マイルストーン
1. **設計・プロトタイプ** - UI/UXデザイン、ワイヤーフレーム
2. **環境構築** - AWS Amplify、Xcode設定
3. **認証機能** - ログイン/登録実装
4. **投稿機能** - 作成・閲覧・検索
5. **AI連携** - 自動分類・類似投稿
6. **テスト・QA** - バグ修正、パフォーマンス改善
7. **App Store申請** - 審査対応

---

## 12. 補足

### App Store審査のポイント
- ユーザー生成コンテンツ（UGC）アプリはモデレーション必須
- プライバシーポリシーの明記
- 年齢レーティングの適切な設定

### 成功指標（KPI）
- DAU（日次アクティブユーザー）
- 投稿数/日
- リテンション率（7日、30日）
- カテゴリ分布
